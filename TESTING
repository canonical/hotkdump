# ./hotkdump.py -c 123 -d case-id-00355879-vmcore-dump.202303041856 
Downloading vmcore for kernel 5.4.0-110-generic

installing dbgsym
strings run on the vmcore has this..

KDUMP   
Linux
prd-galerasyncpymts331
5.4.0-110-generic
#124-Ubuntu SMP Thu Apr 14 19:46:19 UTC 2022
x86_64
(none)
CORE
CORE
CORE

found the KDUMP string at the beginning.
minor version is.. 124
kernel version minus generic is 5.4.0-110
command is..  pull-lp-ddebs linux-image-unsigned-5.4.0-110-generic 5.4.0-110.124
CompletedProcess(args='pull-lp-ddebs linux-image-unsigned-5.4.0-110-generic 5.4.0-110.124', returncode=0, stdout=b"Source package lookup failed, trying lookup of binary package linux-image-unsigned-5.4.0-110-generic\nUsing source package 'linux' for binary package 'linux-image-unsigned-5.4.0-110-generic'\nFound linux 5.4.0-110.124 in focal\nPulling only binary package 'linux-image-unsigned-5.4.0-110-generic'\nUse package name 'linux' to pull all binary packages\nPlease wait, this may take some time...\nFile linux-image-unsigned-5.4.0-110-generic-dbgsym_5.4.0-110.124_amd64.ddeb incorrect size, got 50331648 expected 968801616\nDownloading linux-image-unsigned-5.4.0-110-generic-dbgsym_5.4.0-110.124_amd64.ddeb from ddebs.ubuntu.com (923.921 MiB)\n")
just printed result
filename is  linux-image-unsigned-5.4.0-110-generic-dbgsym_5.4.0-110.124_amd64.ddeb
executing this command now  dpkg -x linux-image-unsigned-5.4.0-110-generic-dbgsym_5.4.0-110.124_amd64.ddeb extract_folder
got this vmlinux from the function  extract_folder/usr/lib/debug/boot/vmlinux-5.4.0-110-generic
dump is .. 
 case-id-00355879-vmcore-dump.202303041856
and vmlinux is  extract_folder/usr/lib/debug/boot/vmlinux-5.4.0-110-generic

 and args are
case-id-00355879-vmcore-dump.202303041856 extract_folder/usr/lib/debug/boot/vmlinux-5.4.0-110-generic
Loading vmcore into crash.. please wait..
Collected output of.. 

sys 
bt 
log | grep -vi audit 
kmem -i 
dev -d 
mount 
files 
vm 
ps -m | grep UN | tail 

See hotkdump.log for logs
See hotkdump.out for output
done with cleanup

----

# cat hotkdump.out | tail 
[ 0 00:00:00.001] [UN]  PID: 7608     TASK: ffff9df40af78000  CPU: 39   COMMAND: "vmagent"
[ 0 00:00:00.001] [UN]  PID: 7623     TASK: ffff9e3b871e8000  CPU: 19   COMMAND: "vmagent"
[ 0 00:00:00.004] [UN]  PID: 7596     TASK: ffff9df410248000  CPU: 3    COMMAND: "mysqld_exporter"
[ 0 00:00:00.001] [UN]  PID: 17215    TASK: ffff9e3b81e08000  CPU: 15   COMMAND: "mysqld_exporter"
[ 0 00:00:00.003] [UN]  PID: 1483399  TASK: ffff9e3b5b189e40  CPU: 8    COMMAND: "mysqld"
[ 0 00:00:00.003] [UN]  PID: 7408     TASK: ffff9e3b7aa31e40  CPU: 36   COMMAND: "wazuh-modulesd"
[ 0 00:00:00.004] [UN]  PID: 2653230  TASK: ffff9df445d73c80  CPU: 26   COMMAND: "cron"
[ 0 00:00:00.006] [UN]  PID: 1596719  TASK: ffff9dd4c18c8000  CPU: 20   COMMAND: "mysqld"
[ 0 00:00:00.004] [UN]  PID: 1483442  TASK: ffff9de41f47dac0  CPU: 10   COMMAND: "mysqld"
[ 0 00:00:00.005] [UN]  PID: 2653159  TASK: ffff9df59f095ac0  CPU: 2    COMMAND: "sshd"



